<div class="flex flex-col flex-auto md:w-160 md:min-w-160 -m-6">
    <ng-container *ngIf="schema$ | async as schema">
        <div class="m-4">
            <!-- Name -->
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="schema-name">Name</label>
                <input id="schema-name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" [placeholder]="'Name'" [(ngModel)]="schema.name" (input)="updateSchemaDetails(schema)">

            </div>
            <!-- Type -->
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="schema-type">Type</label>
                <input id="schema-type" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" [placeholder]="'Type'" [(ngModel)]="schema.type" (input)="updateSchemaDetails(schema)">
            </div>
            <!-- description -->
            <div class="py-5 px-2 mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="schema-description">Description</label>
                <textarea id="schema-description" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" [placeholder]="'Description'" [(ngModel)]="schema.description" (input)="updateSchemaDetails(schema)"></textarea>
            </div>

            <!-- Tags -->
            <div class="mx-2 mt-4 space-y-1.5">
                <ng-container *ngFor="let tag of schema.tags; trackBy: trackByFn">
                    <div class="group flex items-center">
                        <mat-icon class="icon-size-4" [svgIcon]="'heroicons_outline:tag'"></mat-icon>
                        <div class="w-full px-1 py-0.5">{{ tag }}</div>
                        <mat-icon class="ml-auto icon-size-5 cursor-pointer" [svgIcon]="'heroicons_solid:x'"
                            (click)="removeTagFromSchema(schema, tag)"></mat-icon>
                    </div>
                </ng-container>
                <div class="flex items-center">
                    <mat-icon class="-ml-0.5 icon-size-5 text-hint" [svgIcon]="'heroicons_solid:plus'"></mat-icon>
                    <input class="w-full ml-1.5 px-1 py-0.5" [placeholder]="'Add tag'"
                        (keydown.enter)="addTagToSchema(schema, newTagInput.value); newTagInput.value = ''"
                        #newTagInput>
                </div>
            </div>
            
            <div class="flex items-center justify-between mt-4">
                <div>

                    <!-- Delete Schema -->
                    <button mat-icon-button (click)="deleteSchema(schema)">
                        <mat-icon [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                    </button>
                </div>
                <button mat-flat-button matDialogClose>Close</button>
            </div>
        </div>
    </ng-container>
</div>